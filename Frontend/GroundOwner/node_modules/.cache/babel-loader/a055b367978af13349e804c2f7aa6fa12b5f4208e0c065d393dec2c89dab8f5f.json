{"ast":null,"code":"var _jsxFileName = \"/Users/aukte/Desktop/GroundOwner/src/Components/ViewProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FaEdit } from \"react-icons/fa\";\nimport prof_icon from \"../Assets/owner.jpeg\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ViewProfile() {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [originalData, setOriginalData] = useState({});\n  const [formData, setFormData] = useState({});\n  const email = sessionStorage.getItem(\"email\");\n  // Fetch profile data from the backend\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const response = await axios.get(`http://127.0.0.1:8000/owner_details/${email}`);\n        setOriginalData(response.data);\n        setFormData(response.data);\n      } catch (error) {\n        console.error(\"Error fetching profile data:\", error);\n      }\n    };\n    fetchProfile();\n  }, []);\n\n  // Handle input changes for text fields\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n\n  // Handle file change for the photo\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const photoURL = URL.createObjectURL(file);\n      setFormData({\n        ...formData,\n        photo: photoURL\n      });\n    }\n  };\n\n  // Save changes and exit edit mode\n  const saveChanges = async () => {\n    try {\n      await axios.put(\"http://localhost:5000/api/profile\", formData);\n      setOriginalData({\n        ...formData\n      }); // Update original data\n      setIsEditing(false);\n    } catch (error) {\n      console.error(\"Error saving profile data:\", error);\n    }\n  };\n\n  // Cancel edit and revert to original data\n  const cancelEdit = () => {\n    setFormData({\n      ...originalData\n    }); // Revert changes\n    setIsEditing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"email mb-5\",\n        style: {\n          color: \"rgb(57 171 148)\"\n        },\n        children: isEditing ? \"Edit Details\" : \"Account Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column justify-content-center align-items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: formData.picture || prof_icon,\n            alt: \"User\",\n            className: \"mb-3\",\n            style: {\n              width: \"150px\",\n              height: \"150px\",\n              objectFit: \"cover\",\n              borderRadius: \"50%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), isEditing && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleFileChange,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), [\"name\", \"phone_no\", \"email\"].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"label\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [field.charAt(0).toUpperCase() + field.slice(1), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: field === \"password\" ? \"password\" : \"text\",\n          name: field,\n          value: formData[field] || \"\",\n          onChange: handleInputChange,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"view-profile-span\",\n          children: originalData[field] || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this)]\n      }, field, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row justify-content-center align-items-center p-3\",\n        children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success me-2\",\n            onClick: saveChanges,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: cancelEdit,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"edit-ground\",\n          onClick: () => setIsEditing(true),\n          children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), \" Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ViewProfile, \"7LoI8jCNUSRwutWYkbDvko9bCD4=\");\n_c = ViewProfile;\nvar _c;\n$RefreshReg$(_c, \"ViewProfile\");","map":{"version":3,"names":["React","useState","useEffect","axios","FaEdit","prof_icon","jsxDEV","_jsxDEV","Fragment","_Fragment","ViewProfile","_s","isEditing","setIsEditing","originalData","setOriginalData","formData","setFormData","email","sessionStorage","getItem","fetchProfile","response","get","data","error","console","handleInputChange","e","name","value","target","handleFileChange","file","files","photoURL","URL","createObjectURL","photo","saveChanges","put","cancelEdit","children","className","style","color","fileName","_jsxFileName","lineNumber","columnNumber","src","picture","alt","width","height","objectFit","borderRadius","type","accept","onChange","map","field","charAt","toUpperCase","slice","onClick","_c","$RefreshReg$"],"sources":["/Users/aukte/Desktop/GroundOwner/src/Components/ViewProfile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FaEdit } from \"react-icons/fa\";\nimport prof_icon from \"../Assets/owner.jpeg\";\n\nexport default function ViewProfile() {\n  const [isEditing, setIsEditing] = useState(false);\n  const [originalData, setOriginalData] = useState({});\n  const [formData, setFormData] = useState({});\n\n  const email = sessionStorage.getItem(\"email\");\n  // Fetch profile data from the backend\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const response = await axios.get(`http://127.0.0.1:8000/owner_details/${email}`);\n        setOriginalData(response.data);\n        setFormData(response.data);\n      } catch (error) {\n        console.error(\"Error fetching profile data:\", error);\n      }\n    };\n\n    fetchProfile();\n  }, []);\n\n  // Handle input changes for text fields\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  // Handle file change for the photo\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const photoURL = URL.createObjectURL(file);\n      setFormData({ ...formData, photo: photoURL });\n    }\n  };\n\n  // Save changes and exit edit mode\n  const saveChanges = async () => {\n    try {\n      await axios.put(\"http://localhost:5000/api/profile\", formData);\n      setOriginalData({ ...formData }); // Update original data\n      setIsEditing(false);\n    } catch (error) {\n      console.error(\"Error saving profile data:\", error);\n    }\n  };\n\n  // Cancel edit and revert to original data\n  const cancelEdit = () => {\n    setFormData({ ...originalData }); // Revert changes\n    setIsEditing(false);\n  };\n\n  return (\n    <>\n      <div className=\"container p-4\">\n        <h1 className=\"email mb-5\" style={{ color: \"rgb(57 171 148)\" }}>\n          {isEditing ? \"Edit Details\" : \"Account Details\"}\n        </h1>\n\n        {/* Profile Picture */}\n        <div className=\"d-flex flex-column justify-content-center align-items-center mb-3\">\n          <div>\n            <img\n              src={formData.picture || prof_icon}\n              alt=\"User\"\n              className=\"mb-3\"\n              style={{\n                width: \"150px\",\n                height: \"150px\",\n                objectFit: \"cover\",\n                borderRadius: \"50%\",\n              }}\n            />\n          </div>\n          {isEditing && (\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n              className=\"form-control\"\n            />\n          )}\n        </div>\n\n        {/* Profile Fields */}\n        {[\n          \"name\",\n          \"phone_no\",\n          \"email\",\n        ].map((field) => (\n          <div className=\"mb-3\" key={field}>\n            <h5 className=\"label\">\n              <b>{field.charAt(0).toUpperCase() + field.slice(1)}:</b>\n            </h5>\n            {isEditing ? (\n              <input\n                type={field === \"password\" ? \"password\" : \"text\"}\n                name={field}\n                value={formData[field] || \"\"}\n                onChange={handleInputChange}\n                className=\"form-control\"\n              />\n            ) : (\n              <span className=\"view-profile-span\">\n                {originalData[field] || \"\"}\n              </span>\n            )}\n          </div>\n        ))}\n\n        {/* Action Buttons */}\n        <div className=\"d-flex flex-row justify-content-center align-items-center p-3\">\n          {isEditing ? (\n            <>\n              <button className=\"btn btn-success me-2\" onClick={saveChanges}>\n                Save\n              </button>\n              <button className=\"btn btn-danger\" onClick={cancelEdit}>\n                Cancel\n              </button>\n            </>\n          ) : (\n            <button className=\"edit-ground\" onClick={() => setIsEditing(true)}>\n              <FaEdit /> Edit\n            </button>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}